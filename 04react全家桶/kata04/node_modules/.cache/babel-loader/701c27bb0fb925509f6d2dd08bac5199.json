{"ast":null,"code":"export function createStore(reducer, enhancer) {\n  if (enhancer) {\n    return enhancer(createStore)(reducer);\n  }\n\n  let currentState;\n  let currentListeners = [];\n\n  function getState() {\n    return currentState;\n  }\n\n  function subscribe(listener) {\n    currentListeners.push(listener);\n  }\n\n  function dispatch(action) {\n    currentState = reducer(currentState, action);\n    currentListeners.forEach(v => v());\n    return action;\n  }\n\n  dispatch({\n    Type: '@MYREDUX_TEST'\n  });\n  return {\n    getState,\n    subscribe,\n    dispatch\n  };\n}","map":{"version":3,"sources":["/Users/mac/Desktop/Web/react/react-study/04react全家桶/kata04/src/store/redux.js"],"names":["createStore","reducer","enhancer","currentState","currentListeners","getState","subscribe","listener","push","dispatch","action","forEach","v","Type"],"mappings":"AAAA,OAAO,SAASA,WAAT,CAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;AAC3C,MAAIA,QAAJ,EAAc;AACV,WAAOA,QAAQ,CAACF,WAAD,CAAR,CAAsBC,OAAtB,CAAP;AACH;;AAED,MAAIE,YAAJ;AACA,MAAIC,gBAAgB,GAAG,EAAvB;;AAEA,WAASC,QAAT,GAAoB;AAChB,WAAOF,YAAP;AACH;;AAED,WAASG,SAAT,CAAmBC,QAAnB,EAA6B;AACzBH,IAAAA,gBAAgB,CAACI,IAAjB,CAAsBD,QAAtB;AACH;;AAED,WAASE,QAAT,CAAkBC,MAAlB,EAA0B;AACtBP,IAAAA,YAAY,GAAGF,OAAO,CAACE,YAAD,EAAeO,MAAf,CAAtB;AACAN,IAAAA,gBAAgB,CAACO,OAAjB,CAAyBC,CAAC,IAAIA,CAAC,EAA/B;AACA,WAAOF,MAAP;AACH;;AACDD,EAAAA,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AACA,SAAO;AAAER,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBG,IAAAA;AAAvB,GAAP;AACH","sourcesContent":["export function createStore(reducer, enhancer) {\n    if (enhancer) {\n        return enhancer(createStore)(reducer)\n    }\n\n    let currentState\n    let currentListeners = []\n\n    function getState() {\n        return currentState\n    }\n\n    function subscribe(listener) {\n        currentListeners.push(listener)\n    }\n\n    function dispatch(action) {\n        currentState = reducer(currentState, action)\n        currentListeners.forEach(v => v())\n        return action\n    }\n    dispatch({ Type: '@MYREDUX_TEST'})\n    return { getState, subscribe, dispatch }\n}"]},"metadata":{},"sourceType":"module"}